"use strict";(self.webpackChunk_brz_screen_capture=self.webpackChunk_brz_screen_capture||[]).push([[348],{5905:function(t,e,n){var r=n(969),c=n(8303),i=n(8102);e.Z=function(){var t=(0,i.Z)();return(0,r.useCallback)((function(e){t(c.S1(e))}),[t])}},4610:function(t,e,n){n.r(e),n.d(e,{default:function(){return W}});var r=n(969),c=n(8055),i=n(8886),a=n(5113),o=n(2723),s=n(4795),u=n(6234),h=n(3203),l=function(t,e,n){var r=(0,u.Z)(t,4),c=r[0],i=r[1],a=r[2],o=r[3];if(c>a){var s=[a,c];c=s[0],a=s[1]}if(i>o){var h=[o,i];i=h[0],o=h[1]}return c<0&&(c=0),i<0&&(i=0),a>e&&(a=e),o>n&&(o=n),[c,i,a,o]},f=n(6421),d=n(8839),x="Shade_shade__k3-dc",g=n(7574),p=function(t){var e=t.rect,n=(0,u.Z)(e,4),r=n[0],c=n[1],i=n[2],a=n[3],o={left:0,right:0,top:0,height:"".concat(c,"px")},s={left:0,right:0,top:"".concat(a,"px"),bottom:0},h={left:0,top:"".concat(c,"px"),width:"".concat(r,"px"),height:"".concat(a-c,"px")},l={left:"".concat(i,"px"),top:"".concat(c,"px"),right:0,height:"".concat(a-c,"px")};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:x,style:o}),(0,g.jsx)("div",{className:x,style:s}),(0,g.jsx)("div",{className:x,style:h}),(0,g.jsx)("div",{className:x,style:l})]})},j=function(t){var e=t.rect;return(0,g.jsx)(p,{rect:e})},v=n(8744),w=n(2681),b=n(9378),Z=n(1736),m=n(5905),k=n(6021),y=function(t,e){return Math.floor(t*e/100)},_=function(t){var e=function(t){var e=t.imgWidth,n=t.imgHeight,r=t.wiewportWidth,c=t.wiewportHeight;return{blockW:e>r?r:e,blockH:n>c?c:n}}(t),n=e.blockW,r=e.blockH,c=y(n,50),i=y(r,50),a=Math.floor(n/2-c/2),o=Math.floor(r/2-i/2);return[a,o,a+c,o+i]},C=function(t){var e=(0,h.Sj)(),n=(0,r.useState)([0,0,0,0]),c=(0,u.Z)(n,2),i=c[0],a=c[1];return(0,r.useEffect)((function(){var n=_({imgWidth:t.width,imgHeight:t.height,wiewportWidth:e[0],wiewportHeight:e[1]});a(n)}),[e,t.width,t.height]),[i,a]},H=function(t){var e=t.img,n=(0,k.Z)().beepError,c=(0,a.Z)(),i=(0,m.Z)(),x=(0,Z.Z)().figures,p=C(e),y=(0,u.Z)(p,2),_=y[0],H=y[1],W=(0,r.useCallback)((function(){c("/draw")}),[c]),E=(0,r.useState)(!1),F=(0,u.Z)(E,2),R=F[0],S=F[1],z=(0,r.useCallback)(function(){var t=(0,s.Z)((0,o.Z)().mark((function t(r){var a,s,u;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=l(_,e.width,e.height),s=window.URL.createObjectURL(r),t.next=5,(0,h.MA)(s,a);case 5:u=t.sent,window.URL.revokeObjectURL(s),i(u),c("/draw"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),[i,_,c,e.width,e.height,n]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.Z,{bg:"dark",children:(0,g.jsx)(v.Z,{img:e,body1:(0,g.jsx)(g.Fragment,{children:x.map((function(t){return(0,g.jsx)(f.Z,{figure:t},t.id)}))}),body2:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(h.wx,{rect:_,onEnd:H,visibility:!0,children:function(t){var n=l(t,e.width,e.height);return(0,g.jsx)(j,{rect:n})}})})})}),(0,g.jsx)(d.ZP,{children:(0,g.jsxs)(d.cw,{children:[(0,g.jsx)(d.ne,{children:(0,g.jsx)(h.zx,{text:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(){S(!0)}})}),(0,g.jsx)(d.ne,{children:(0,g.jsx)(h.zx,{text:"\u041e\u0442\u043c\u0435\u043d\u0430",onClick:W})})]})}),R&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(w.Z,{onReady:function(t){z(t),S(!1)},onError:function(t){n(t),S(!1)}}),(0,g.jsx)(h.gb,{})]})]})},W=function(){var t=(0,i.Z)(c.lv),e=(0,a.Z)();return(0,r.useEffect)((function(){t||e("/")}),[e,t]),t?(0,g.jsx)(H,{img:t}):null}}}]);
//# sourceMappingURL=348.60f64964.chunk.js.map